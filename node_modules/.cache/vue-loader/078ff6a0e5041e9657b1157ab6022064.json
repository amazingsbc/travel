{"remainingRequest":"D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Alphabet.vue?vue&type=style&index=0&id=b90ac968&lang=stylus&scoped=true","dependencies":[{"path":"D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Alphabet.vue","mtime":1594459331998},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgQGltcG9ydCAifnN0eWxlcy92YXJpYmxlcy5zdHlsIgogIC5saXN0CiAgICBkaXNwbGF5IGZsZXgKICAgIGZsZXgtZGlyZWN0aW9uIGNvbHVtbgogICAganVzdGlmeS1jb250ZW50IGNlbnRlcgogICAgcG9zaXRpb24gYWJzb2x1dGUKICAgIHJpZ2h0IDAKICAgIHRvcCAxLjU4cmVtCiAgICBib3R0b20gMAogICAgd2lkdGggLjRyZW0KICAgIC5pdGVtCiAgICAgIGxpbmUtaGVpZ2h0IC40cmVtCiAgICAgIHRleHQtYWxpZ24gY2VudGVyCiAgICAgIGNvbG9yICRiZ0NvbG9yCg=="},{"version":3,"sources":["D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Alphabet.vue"],"names":[],"mappings":";EA8FE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9B,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC;MACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/项目/vue/travel/travel/src/pages/city/components/Alphabet.vue","sourceRoot":"","sourcesContent":["<template>\n    <ul class=\"list\">\n      <li\n        class=\"item\"\n        v-for=\"item of letters\"\n        :key=\"item\"\n        @click=\"handleLetterClick\"\n        @touchstart=\"handleTouchStart\"\n        @touchmove=\"handleTouchMove\"\n        @touchend=\"handleTouchEnd\"\n        :ref=\"elem => elems[item] = elem\"\n      >\n        {{item}}\n      </li>\n    </ul>\n</template>\n<script>\nimport { computed, onUpdated,ref } from 'vue'\nexport default {\n  name: 'CityAlphabet',\n  props: {\n    cities: Object\n  },\n  setup(props, context) {\n    let touchStatus = false\n    let startY = 0\n    let timer = null\n    const elems = ref([])\n    const letters = computed(()=>{\n      const letters = []\n      for (let i in props.cities) {\n        letters.push(i)\n      }\n      return letters\n    })\n    onUpdated(()=>{\n      startY = elems.value['A'].offsetTop\n    })\n    function handleLetterClick(e){\n      context.$emit('change', e.target.innerText)\n    }\n    function handleTouchStart () {\n      touchStatus = true\n    }\n    function handleTouchEnd () {\n      touchStatus = false\n    }\n    function handleTouchMove (e) {\n      if (touchStatus) {\n        if (timer) {\n          clearTimeout(timer)\n          timer = null\n        }\n        timer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 79\n          const index = Math.floor((touchY - startY) / 20)\n          if (index >= 0 && index < letters.value.length) {\n            context.emit('change', letters.value[index])\n          }\n        }, 8)\n      }\n    } \n    return { elems,letters,handleLetterClick,handleTouchStart,handleTouchEnd,handleTouchMove }\n  },\n  data () {\n    return {\n      touchStatus: false,\n      startY: 0,\n      timer: null\n    }\n  },\n  methods: {\n    handleLetterClick (e) {\n      this.$emit('change', e.target.innerText)\n    },\n    handleTouchMove (e) {\n      if (this.touchStatus) {\n        if (this.timer) {\n          clearTimeout(this.timer)\n        }\n        this.timer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 79\n          const index = Math.floor((touchY - this.startY) / 20)\n          if (index >= 0 && index < this.letters.length) {\n            this.$emit('change', this.letters[index])\n          }\n        }, 16)\n      }\n    },\n\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n  @import \"~styles/varibles.styl\"\n  .list\n    display flex\n    flex-direction column\n    justify-content center\n    position absolute\n    right 0\n    top 1.58rem\n    bottom 0\n    width .4rem\n    .item\n      line-height .4rem\n      text-align center\n      color $bgColor\n</style>\n"]}]}