{"remainingRequest":"D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Search.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Search.vue","mtime":1594129937917},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBCc2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2l0eVNlYXJjaCcsCiAgcHJvcHM6IFsnY2l0aWVzJ10sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBrZXl3b3JkOiAnJywKICAgICAgbGlzdDogW10sCiAgICAgIHRpbWVyOiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDaXR5Q2xpY2sgKGNpdHkpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VDaXR5JywgY2l0eSkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGhhc05vRGF0YSAoKSB7CiAgICAgIHJldHVybiAhdGhpcy5saXN0Lmxlbmd0aAogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLnNjcm9sbCA9IG5ldyBCc2Nyb2xsKHRoaXMuJHJlZnMuc2VhcmNoLCB7fSkKICB9LAogIHdhdGNoOiB7CiAgICBrZXl3b3JkICgpIHsKICAgICAgaWYgKHRoaXMudGltZXIpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcikKICAgICAgfQogICAgICBpZiAoIXRoaXMua2V5d29yZCkgewogICAgICAgIHRoaXMubGlzdCA9IFtdCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdCiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmNpdGllcykgewogICAgICAgICAgdGhpcy5jaXRpZXNbaV0uZm9yRWFjaCgodmFsdWUpID0+IHsKICAgICAgICAgICAgaWYgKHZhbHVlLnNwZWxsLmluZGV4T2YodGhpcy5rZXl3b3JkKSA+IC0xIHx8CiAgICAgICAgICAgICAgdmFsdWUubmFtZS5pbmRleE9mKHRoaXMua2V5d29yZCkgPiAtMSkgewogICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICB0aGlzLmxpc3QgPSByZXN1bHQKICAgICAgfSwgMTAwKQogICAgfQogIH0KfQo="},{"version":3,"sources":["D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Search.vue"],"names":[],"mappings":"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","file":"D:/项目/vue/travel/travel/src/pages/city/components/Search.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <div class=\"search\">\n      <input class=\"search-input\" type=\"text\" placeholder=\"输入城市名或拼音\" v-model=\"keyword\">\n    </div>\n    <div\n      class=\"search-content\"\n      ref=\"search\"\n      v-show=\"keyword\"\n    >\n      <ul>\n        <li\n          class=\"search-item border-bottom\"\n          v-for=\"item of list\"\n          :key=\"item.id\"\n          @click=\"handleCityClick(item.name)\"\n        >\n          {{item.name}}\n        </li>\n        <li class=\"search-item border-bottom\" v-show=\"hasNoData\">没有找到匹配数据</li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\nimport Bscroll from 'better-scroll'\nexport default {\n  name: 'CitySearch',\n  props: ['cities'],\n  data () {\n    return {\n      keyword: '',\n      list: [],\n      timer: null\n    }\n  },\n  methods: {\n    handleCityClick (city) {\n      this.$store.commit('changeCity', city)\n      this.$router.push('/')\n    }\n  },\n  computed: {\n    hasNoData () {\n      return !this.list.length\n    }\n  },\n  mounted () {\n    this.scroll = new Bscroll(this.$refs.search, {})\n  },\n  watch: {\n    keyword () {\n      if (this.timer) {\n        clearTimeout(this.timer)\n      }\n      if (!this.keyword) {\n        this.list = []\n        return\n      }\n      this.timer = setTimeout(() => {\n        const result = []\n        for (let i in this.cities) {\n          this.cities[i].forEach((value) => {\n            if (value.spell.indexOf(this.keyword) > -1 ||\n              value.name.indexOf(this.keyword) > -1) {\n              result.push(value)\n            }\n          })\n        }\n        this.list = result\n      }, 100)\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n  @import \"~styles/varibles.styl\"\n  .search\n    height .72rem\n    padding 0 .1rem\n    background $bgColor\n    .search-input\n      box-sizing border-box\n      height .62rem\n      line-height .62rem\n      width 100%\n      padding 0 .1rem\n      line-height .62rem\n      text-align center\n      border-radius .06rem\n      color #666\n  .search-content\n    z-index 1\n    position absolute\n    overflow hidden\n    top 1.58rem\n    left 0\n    right 0\n    bottom 0\n    background #eee\n    .search-item\n      line-height .62rem\n      padding-left .2rem\n      background #fff\n      color #666\n</style>\n"]}]}