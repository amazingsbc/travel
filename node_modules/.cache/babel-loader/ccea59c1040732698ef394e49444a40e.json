{"remainingRequest":"D:\\项目\\vue\\travel\\travel\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\City.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\City.vue","mtime":1594457738808},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU5ODc5XHU3NkVFL3Z1ZS90cmF2ZWwvdHJhdmVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9yZWFkT25seUVycm9yIGZyb20gIkQ6L1x1OTg3OVx1NzZFRS92dWUvdHJhdmVsL3RyYXZlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVhZE9ubHlFcnJvciI7CmltcG9ydCB7IHJlYWN0aXZlLCBvbk1vdW50ZWQsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBDaXR5SGVhZGVyIGZyb20gJy4vY29tcG9uZW50cy9IZWFkZXInOwppbXBvcnQgQ2l0eVNlYXJjaCBmcm9tICcuL2NvbXBvbmVudHMvU2VhcmNoJzsKaW1wb3J0IENpdHlMaXN0IGZyb20gJy4vY29tcG9uZW50cy9MaXN0JzsKaW1wb3J0IENpdHlBbHBoYWJldCBmcm9tICcuL2NvbXBvbmVudHMvQWxwaGFiZXQnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NpdHknLAogIGNvbXBvbmVudHM6IHsKICAgIENpdHlIZWFkZXI6IENpdHlIZWFkZXIsCiAgICBDaXR5U2VhcmNoOiBDaXR5U2VhcmNoLAogICAgQ2l0eUxpc3Q6IENpdHlMaXN0LAogICAgQ2l0eUFscGhhYmV0OiBDaXR5QWxwaGFiZXQKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlTGV0dGVyTG9naWMgPSB1c2VMZXR0ZXJMb2dpYygpLAogICAgICAgIGhhbmRsZUxldHRlckNoYW5nZSA9IF91c2VMZXR0ZXJMb2dpYy5oYW5kbGVMZXR0ZXJDaGFuZ2UsCiAgICAgICAgbGV0dGVyID0gX3VzZUxldHRlckxvZ2ljLmxldHRlcjsKCiAgICB2YXIgX3VzZUNpdHlMb2dpYyA9IHVzZUNpdHlMb2dpYygpLAogICAgICAgIGNpdGllcyA9IF91c2VDaXR5TG9naWMuY2l0aWVzLAogICAgICAgIGhvdENpdGllcyA9IF91c2VDaXR5TG9naWMuaG90Q2l0aWVzOwoKICAgIHJldHVybiB7CiAgICAgIGNpdGllczogY2l0aWVzLAogICAgICBob3RDaXRpZXM6IGhvdENpdGllcywKICAgICAgaGFuZGxlTGV0dGVyQ2hhbmdlOiBoYW5kbGVMZXR0ZXJDaGFuZ2UsCiAgICAgIGxldHRlcjogbGV0dGVyCiAgICB9OwogIH0KfTsKCmZ1bmN0aW9uIHVzZUxldHRlckxvZ2ljKCkgewogIHZhciBsZXR0ZXIgPSByZWYoJycpOwoKICBmdW5jdGlvbiBoYW5kbGVMZXR0ZXJDaGFuZ2Uoc2VsZWN0ZWQpIHsKICAgIGxldHRlci52YWx1ZSA9IHNlbGVjdGVkOwogIH0KCiAgcmV0dXJuIHsKICAgIGhhbmRsZUxldHRlckNoYW5nZTogaGFuZGxlTGV0dGVyQ2hhbmdlLAogICAgbGV0dGVyOiBsZXR0ZXIKICB9Owp9CgpmdW5jdGlvbiB1c2VDaXR5TG9naWMoKSB7CiAgdmFyIGNpdGllcyA9IHJlZih7fSk7CiAgdmFyIGhvdENpdGllcyA9IHJlYWN0aXZlKFtdKTsgLy8gY29uc3QgZGF0YSA9IHJlYWN0aXZlKHsKICAvLyAgIGNpdGllczoge30sCiAgLy8gICBob3RDaXRpZXM6IFtdCiAgLy8gfSkKCiAgZnVuY3Rpb24gZ2V0Q2l0eUluZm8oKSB7CiAgICByZXR1cm4gX2dldENpdHlJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBmdW5jdGlvbiBfZ2V0Q2l0eUluZm8oKSB7CiAgICBfZ2V0Q2l0eUluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXMsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9hcGkvY2l0eS5qc29uJyk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByZXMgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgaWYgKHJlcy5yZXQgJiYgcmVzLmRhdGEpIHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgY2l0aWVzID0gKF9yZWFkT25seUVycm9yKCJjaXRpZXMiKSwgcmVzdWx0LmNpdGllcyk7CiAgICAgICAgICAgICAgICBob3RDaXRpZXMgPSAoX3JlYWRPbmx5RXJyb3IoImhvdENpdGllcyIpLCByZXN1bHQuaG90Q2l0aWVzKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwogICAgcmV0dXJuIF9nZXRDaXR5SW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgIGdldENpdHlJbmZvKCk7CiAgfSk7CiAgcmV0dXJuIHsKICAgIGNpdGllczogY2l0aWVzLAogICAgaG90Q2l0aWVzOiBob3RDaXRpZXMKICB9Owp9"},{"version":3,"sources":["D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\City.vue"],"names":[],"mappings":";;;AAcA,SAAS,QAAT,EAAmB,SAAnB,EAA8B,GAA9B,QAAyC,KAAzC;AACA,OAAO,UAAP,MAAuB,qBAAvB;AACA,OAAO,UAAP,MAAuB,qBAAvB;AACA,OAAO,QAAP,MAAqB,mBAArB;AACA,OAAO,YAAP,MAAyB,uBAAzB;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,QAAQ,EAAR,QAHU;AAIV,IAAA,YAAW,EAAX;AAJU,GAFC;AAQb,EAAA,KARa,mBAQL;AAAA,0BACkC,cAAc,EADhD;AAAA,QACE,kBADF,mBACE,kBADF;AAAA,QACuB,MADvB,mBACuB,MADvB;;AAAA,wBAEuB,YAAY,EAFnC;AAAA,QAEE,MAFF,iBAEE,MAFF;AAAA,QAEU,SAFV,iBAEU,SAFV;;AAGN,WAAO;AAAE,MAAA,MAAM,EAAN,MAAF;AAAU,MAAA,SAAS,EAAT,SAAV;AAAqB,MAAA,kBAAiB,EAAjB,kBAArB;AAA0C,MAAA,MAAK,EAAL;AAA1C,KAAP;AACF;AAZa,CAAf;;AAeE,SAAS,cAAT,GAAyB;AACvB,MAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;;AACA,WAAS,kBAAT,CAA4B,QAA5B,EAAqC;AACnC,IAAA,MAAM,CAAC,KAAP,GAAe,QAAf;AACF;;AACA,SAAO;AAAE,IAAA,kBAAiB,EAAjB,kBAAF;AAAuB,IAAA,MAAK,EAAL;AAAvB,GAAP;AACF;;AAEA,SAAS,YAAT,GAAwB;AACtB,MAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;AACA,MAAM,SAAQ,GAAI,QAAQ,CAAC,EAAD,CAA1B,CAFsB,CAGtB;AACA;AACA;AACA;;AANsB,WAOP,WAPO;AAAA;AAAA;;AAAA;AAAA,2EAOtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACkB,KAAK,CAAC,GAAN,CAAU,gBAAV,CADlB;;AAAA;AACM,cAAA,GADN;AAEE,cAAA,GAAE,GAAI,GAAG,CAAC,IAAV;;AACA,kBAAI,GAAG,CAAC,GAAJ,IAAW,GAAG,CAAC,IAAnB,EAAyB;AACjB,gBAAA,MADiB,GACR,GAAG,CAAC,IADI;AAEvB,gBAAA,MAAK,8BAAI,MAAM,CAAC,MAAX,CAAL;AACA,gBAAA,SAAQ,iCAAI,MAAM,CAAC,SAAX,CAAR;AACF;;AAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAPsB;AAAA;AAAA;;AAgBtB,EAAA,SAAS,CAAC,YAAI;AAAE,IAAA,WAAW;AAAI,GAAtB,CAAT;AACA,SAAO;AAAE,IAAA,MAAM,EAAN,MAAF;AAAU,IAAA,SAAS,EAAT;AAAV,GAAP;AACF","sourcesContent":["<template>\r\n  <div>\r\n    <city-header></city-header>\r\n    <city-search :cities=\"cities\"></city-search>\r\n    <city-list\r\n      :cities=\"cities\"\r\n      :hotCities=\"hotCities\"\r\n      :letter=\"letter\"\r\n    >\r\n    </city-list>\r\n    <city-alphabet :cities=\"cities\" @change=\"handleLetterChange\"></city-alphabet>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, onMounted, ref } from 'vue'\r\nimport CityHeader from './components/Header'\r\nimport CitySearch from './components/Search'\r\nimport CityList from './components/List'\r\nimport CityAlphabet from './components/Alphabet'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'City',\r\n  components: {\r\n    CityHeader,\r\n    CitySearch,\r\n    CityList,\r\n    CityAlphabet\r\n  },\r\n  setup() {\r\n    const { handleLetterChange , letter } = useLetterLogic()\r\n    const { cities, hotCities} = useCityLogic()\r\n    return { cities, hotCities, handleLetterChange , letter }\r\n  }\r\n}\r\n\r\n  function useLetterLogic(){\r\n    const letter = ref('')\r\n    function handleLetterChange(selected){\r\n      letter.value = selected\r\n    }\r\n    return { handleLetterChange , letter }\r\n  }\r\n\r\n  function useCityLogic() {\r\n    const cities = ref({})\r\n    const hotCities = reactive([])\r\n    // const data = reactive({\r\n    //   cities: {},\r\n    //   hotCities: []\r\n    // })\r\n    async function getCityInfo() {\r\n      let res = await axios.get('/api/city.json')\r\n      res = res.data\r\n      if (res.ret && res.data) {\r\n        const result = res.data\r\n        cities = result.cities\r\n        hotCities = result.hotCities\r\n      }\r\n    }\r\n    onMounted(()=>{ getCityInfo() })\r\n    return { cities, hotCities}\r\n  }\r\n</script>\r\n<style lang=\"stylus\" scoped></style>\r\n"],"sourceRoot":""}]}