{"remainingRequest":"D:\\项目\\vue\\travel\\travel\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Alphabet.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Alphabet.vue","mtime":1594459331998},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\vue\\travel\\travel\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29tcHV0ZWQsIG9uVXBkYXRlZCwgcmVmIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaXR5QWxwaGFiZXQnLAogIHByb3BzOiB7CiAgICBjaXRpZXM6IE9iamVjdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBjb250ZXh0KSB7CiAgICB2YXIgdG91Y2hTdGF0dXMgPSBmYWxzZTsKICAgIHZhciBzdGFydFkgPSAwOwogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBlbGVtcyA9IHJlZihbXSk7CiAgICB2YXIgbGV0dGVycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGxldHRlcnMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgaW4gcHJvcHMuY2l0aWVzKSB7CiAgICAgICAgbGV0dGVycy5wdXNoKGkpOwogICAgICB9CgogICAgICByZXR1cm4gbGV0dGVyczsKICAgIH0pOwogICAgb25VcGRhdGVkKGZ1bmN0aW9uICgpIHsKICAgICAgc3RhcnRZID0gZWxlbXMudmFsdWVbJ0EnXS5vZmZzZXRUb3A7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBoYW5kbGVMZXR0ZXJDbGljayhlKSB7CiAgICAgIGNvbnRleHQuJGVtaXQoJ2NoYW5nZScsIGUudGFyZ2V0LmlubmVyVGV4dCk7CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydCgpIHsKICAgICAgdG91Y2hTdGF0dXMgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKCkgewogICAgICB0b3VjaFN0YXR1cyA9IGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShlKSB7CiAgICAgIGlmICh0b3VjaFN0YXR1cykgewogICAgICAgIGlmICh0aW1lcikgewogICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgdG91Y2hZID0gZS50b3VjaGVzWzBdLmNsaWVudFkgLSA3OTsKICAgICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IoKHRvdWNoWSAtIHN0YXJ0WSkgLyAyMCk7CgogICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCBsZXR0ZXJzLnZhbHVlLmxlbmd0aCkgewogICAgICAgICAgICBjb250ZXh0LmVtaXQoJ2NoYW5nZScsIGxldHRlcnMudmFsdWVbaW5kZXhdKTsKICAgICAgICAgIH0KICAgICAgICB9LCA4KTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGVsZW1zOiBlbGVtcywKICAgICAgbGV0dGVyczogbGV0dGVycywKICAgICAgaGFuZGxlTGV0dGVyQ2xpY2s6IGhhbmRsZUxldHRlckNsaWNrLAogICAgICBoYW5kbGVUb3VjaFN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0LAogICAgICBoYW5kbGVUb3VjaEVuZDogaGFuZGxlVG91Y2hFbmQsCiAgICAgIGhhbmRsZVRvdWNoTW92ZTogaGFuZGxlVG91Y2hNb3ZlCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvdWNoU3RhdHVzOiBmYWxzZSwKICAgICAgc3RhcnRZOiAwLAogICAgICB0aW1lcjogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUxldHRlckNsaWNrOiBmdW5jdGlvbiBoYW5kbGVMZXR0ZXJDbGljayhlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGUudGFyZ2V0LmlubmVyVGV4dCk7CiAgICB9LAogICAgaGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudG91Y2hTdGF0dXMpIHsKICAgICAgICBpZiAodGhpcy50aW1lcikgewogICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHRvdWNoWSA9IGUudG91Y2hlc1swXS5jbGllbnRZIC0gNzk7CiAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKCh0b3VjaFkgLSBfdGhpcy5zdGFydFkpIC8gMjApOwoKICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgX3RoaXMubGV0dGVycy5sZW5ndGgpIHsKICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ2NoYW5nZScsIF90aGlzLmxldHRlcnNbaW5kZXhdKTsKICAgICAgICAgIH0KICAgICAgICB9LCAxNik7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\项目\\vue\\travel\\travel\\src\\pages\\city\\components\\Alphabet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <ul class=\"list\">\n      <li\n        class=\"item\"\n        v-for=\"item of letters\"\n        :key=\"item\"\n        @click=\"handleLetterClick\"\n        @touchstart=\"handleTouchStart\"\n        @touchmove=\"handleTouchMove\"\n        @touchend=\"handleTouchEnd\"\n        :ref=\"elem => elems[item] = elem\"\n      >\n        {{item}}\n      </li>\n    </ul>\n</template>\n<script>\nimport { computed, onUpdated,ref } from 'vue'\nexport default {\n  name: 'CityAlphabet',\n  props: {\n    cities: Object\n  },\n  setup(props, context) {\n    let touchStatus = false\n    let startY = 0\n    let timer = null\n    const elems = ref([])\n    const letters = computed(()=>{\n      const letters = []\n      for (let i in props.cities) {\n        letters.push(i)\n      }\n      return letters\n    })\n    onUpdated(()=>{\n      startY = elems.value['A'].offsetTop\n    })\n    function handleLetterClick(e){\n      context.$emit('change', e.target.innerText)\n    }\n    function handleTouchStart () {\n      touchStatus = true\n    }\n    function handleTouchEnd () {\n      touchStatus = false\n    }\n    function handleTouchMove (e) {\n      if (touchStatus) {\n        if (timer) {\n          clearTimeout(timer)\n          timer = null\n        }\n        timer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 79\n          const index = Math.floor((touchY - startY) / 20)\n          if (index >= 0 && index < letters.value.length) {\n            context.emit('change', letters.value[index])\n          }\n        }, 8)\n      }\n    } \n    return { elems,letters,handleLetterClick,handleTouchStart,handleTouchEnd,handleTouchMove }\n  },\n  data () {\n    return {\n      touchStatus: false,\n      startY: 0,\n      timer: null\n    }\n  },\n  methods: {\n    handleLetterClick (e) {\n      this.$emit('change', e.target.innerText)\n    },\n    handleTouchMove (e) {\n      if (this.touchStatus) {\n        if (this.timer) {\n          clearTimeout(this.timer)\n        }\n        this.timer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 79\n          const index = Math.floor((touchY - this.startY) / 20)\n          if (index >= 0 && index < this.letters.length) {\n            this.$emit('change', this.letters[index])\n          }\n        }, 16)\n      }\n    },\n\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n  @import \"~styles/varibles.styl\"\n  .list\n    display flex\n    flex-direction column\n    justify-content center\n    position absolute\n    right 0\n    top 1.58rem\n    bottom 0\n    width .4rem\n    .item\n      line-height .4rem\n      text-align center\n      color $bgColor\n</style>\n"],"sourceRoot":""}]}